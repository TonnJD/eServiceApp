{"version":3,"sources":["./src/app/page/take-spare-parts/sparelist/sparelist.page.html","./src/app/page/take-spare-parts/sparelist/sparelist.module.ts","./src/app/page/take-spare-parts/sparelist/sparelist.page.scss","./src/app/page/take-spare-parts/sparelist/sparelist.page.ts"],"names":[],"mappings":"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","file":"take-spare-parts-sparelist-sparelist-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>รายการเบิกอะไหล่</ion-title>\\r\\n    <ion-buttons slot=\\\"primary\\\">\\r\\n      <ion-button (click)=\\\"loadpage()\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"refresh\\\"></ion-icon>  \\r\\n    </ion-button>\\r\\n  </ion-buttons>\\r\\n\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\" style=\\\"padding: 5px;\\\">\\r\\n      <div class=\\\"col-12\\\" style=\\\"text-align: center; margin-top: 20px;\\\" *ngIf=\\\"loads == false\\\">\\r\\n        <label>ไม่พบข้อมูล</label>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-12 col-12\\\" *ngIf=\\\"loads == true\\\">\\r\\n        <div class=\\\"portlet box blue\\\">\\r\\n          <div class=\\\"portlet-title\\\">\\r\\n            <div class=\\\"caption\\\">\\r\\n              <i class=\\\"fa fa-user\\\"></i>รายการเบิกอะไหล่</div>\\r\\n              <div class=\\\"tools\\\">\\r\\n                  <span class=\\\"label label-sm label-success circle\\\"\\r\\n                  (click)=\\\"NewSpare()\\\">เปิดใบเบิกอะไหล่</span>\\r\\n              </div>\\r\\n          </div>\\r\\n          <div class=\\\"portlet-body\\\">\\r\\n            <div class=\\\"tab-content\\\">\\r\\n              <div class=\\\"tab-pane active\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-12\\\">\\r\\n                    <div class=\\\"table-scrollable\\\">\\r\\n                      <table class=\\\"table table-hover\\\">\\r\\n                        <thead>\\r\\n                          <tr>\\r\\n                            <th> ลำดับที่ </th>\\r\\n                            <th> เลขที่เอกสาร </th>\\r\\n                            <th> ชื่อลูกค้า </th>\\r\\n                            <th> สถานะ </th>\\r\\n                            <th> วันที่สร้างเอกสาร </th>\\r\\n                          </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                          <tr *ngFor=\\\"let item of list; let i = index\\\">\\r\\n                            <td> {{i+1}}</td>\\r\\n                            <td> {{item.ServiceReportNo}} </td>\\r\\n                            <td> {{item.CustomerName}} </td>\\r\\n                            <td> {{item.Status}} </td>\\r\\n                            <td> {{item.CreatedDate}} </td>\\r\\n                            <td *ngIf=\\\"item.Status != 'ช่างขอเบิกอะไหล่'; else lblEdit\\\" > \\r\\n                              <span class=\\\"label label-sm label-warning circle\\\" #lblEdit\\r\\n                                (click)=\\\"Detail(item)\\\">ดู</span>\\r\\n                            </td>\\r\\n                            <td *ngIf=\\\"item.Status == 'ช่างขอเบิกอะไหล่'; else lblView\\\" > \\r\\n                              <span class=\\\"label label-sm label-warning circle\\\" #lblView\\r\\n                              (click)=\\\"Detail(item)\\\">แก้ไข</span>\\r\\n                          </td>\\r\\n                          <td *ngIf=\\\"item.Status == 'ช่างขอเบิกอะไหล่'; else lblView\\\" > \\r\\n                            <span class=\\\"label label-sm label-danger circle\\\" #lblView\\r\\n                            (click)=\\\"Delete(item)\\\">ลบ</span>\\r\\n                        </td>\\r\\n                          </tr>\\r\\n                        </tbody>\\r\\n                      </table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SparelistPage } from './sparelist.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SparelistPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [SparelistPage]\r\n})\r\nexport class SparelistPageModule {}\r\n","module.exports = \".container-fluid {\\n  padding: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZS90YWtlLXNwYXJlLXBhcnRzL3NwYXJlbGlzdC9FOlxcR2l0SHViXFxlU2VydmljZUFwcC9zcmNcXGFwcFxccGFnZVxcdGFrZS1zcGFyZS1wYXJ0c1xcc3BhcmVsaXN0XFxzcGFyZWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlL3Rha2Utc3BhcmUtcGFydHMvc3BhcmVsaXN0L3NwYXJlbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlL3Rha2Utc3BhcmUtcGFydHMvc3BhcmVsaXN0L3NwYXJlbGlzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWZsdWlkIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxufSIsIi5jb250YWluZXItZmx1aWQge1xuICBwYWRkaW5nOiAwcHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PostDataService } from '../../../post-data.service';\r\nimport { StorageService, User } from '../../../storage.service';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { NavController, AlertController,LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-sparelist',\r\n  templateUrl: './sparelist.page.html',\r\n  styleUrls: ['./sparelist.page.scss'],\r\n})\r\nexport class SparelistPage implements OnInit {\r\n  empID;\r\n  list;\r\n  loads = false;\r\n  constructor(private postDataService: PostDataService,\r\n    private storageService: StorageService, \r\n    public alertController: AlertController,\r\n    public loadingController: LoadingController,\r\n    public navCtrl: NavController) { \r\n      setTimeout(() => {\r\n        this.ngOnInit();\r\n      }, 500);\r\n    }\r\n\r\n    loadpage() {\r\n      setTimeout(() => {\r\n        this.loaddata();\r\n        this.ngOnInit();\r\n      }, 500);\r\n    }\r\n\r\nasync loaddata() {\r\n    const loading = await this.loadingController.create({\r\n      message: 'กำลังโหลดข้อมูล...',\r\n      duration: 500,\r\n      translucent: true,\r\n      cssClass: 'custom-class custom-loading'\r\n    });\r\n    return await loading.present();\r\n  }\r\n  \r\n  ngOnInit() {\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    this.storageService.getUser().then(items => {\r\n      for (let i = 0; i < items.length; i++) {\r\n        this.empID = items[i].empID;\r\n      }\r\n\r\n      let params =\r\n      {\r\n        EmpID: this.empID,\r\n        Type: \"List\",\r\n      }\r\n\r\n      this.postDataService.PostCus(params).then(list => {\r\n        this.list = list\r\n        console.log(list);\r\n        if (this.list.length == 0) {\r\n          this.loads = false;\r\n        }else{\r\n          this.loads = true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n  Detail(item){\r\n    console.log(item);\r\n    \r\n    let params = {\r\n      JobID: item.JobID,\r\n      type: \"edit\",\r\n      CusID: item.CustomerID,\r\n      item: item\r\n    }\r\n    console.log(params);\r\n\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        data: JSON.stringify(params)\r\n      }\r\n    };\r\n    console.log(navigationExtras);\r\n    this.navCtrl.navigateForward(['take-spare-parts'], navigationExtras);\r\n  }\r\n  NewSpare(){\r\n    let params = {\r\n      type: \"new\"\r\n    }\r\n\r\n    console.log(params);\r\n\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        data: JSON.stringify(params)\r\n      }\r\n    };\r\n    \r\n    console.log(navigationExtras);\r\n    this.navCtrl.navigateForward(['request-sparepart'], navigationExtras);\r\n  }\r\n  async Delete(item) {\r\n    const alert = await this.alertController.create({\r\n      header: 'แจ้งเตือน!',\r\n      message: 'ต้องการลบข้อมูล',\r\n      buttons: [\r\n        {\r\n          text: 'ตกลง',\r\n          handler: () => {\r\n            let params = {\r\n              JobID: item.JobID,\r\n              EmpID: this.empID,\r\n              Type: \"DeleteJob\",\r\n            }\r\n            this.postDataService.PostCus(params).then(list => {\r\n              console.log(list);\r\n              this.ngOnInit();\r\n            });\r\n          }\r\n        }, {\r\n          text: 'ยกเลิก',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}